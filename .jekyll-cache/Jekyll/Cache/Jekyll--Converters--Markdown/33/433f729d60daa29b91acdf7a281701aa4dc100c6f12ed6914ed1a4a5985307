I"=<p>Composer是PHP依赖管理工具 具体介绍官方网站： https://getcomposer.org/doc/00-intro.md 本篇介绍 小项目如何使用composer生成自动加载类文件</p>

<h2 id="1-创建项目-test-目录结构">1. 创建项目 test 目录结构：</h2>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">/</span><span class="n">test</span><span class="o">/</span>
<span class="o">/</span><span class="n">vendor</span><span class="o">/</span> <span class="c1">//第三方包 类库</span>
<span class="o">/</span><span class="n">module</span><span class="o">/</span> <span class="c1">// 模块</span>
<span class="nc">TestClass</span><span class="mf">.</span><span class="n">php</span> <span class="c1">//模块TestClass类</span>
<span class="n">index</span><span class="mf">.</span><span class="n">php</span>
<span class="n">composer</span><span class="mf">.</span><span class="n">json</span> <span class="c1">//composer.json</span>
  <span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>

<span class="c1">//TestClass.php</span>

<span class="o">&lt;</span><span class="n">pre</span> <span class="n">class</span><span class="o">=</span><span class="s2">"line-numbers"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">code</span> <span class="n">class</span><span class="o">=</span><span class="s2">"language-json"</span><span class="o">&gt;</span>
    <span class="c1">// composer.json </span>
    <span class="p">{</span> 
      <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"ztest"</span><span class="p">,</span> <span class="c1">//name 之类其它好多属性 不是必须的 </span>
        <span class="s2">"autoload"</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// autoload 属性用来定义本项目 要自动加载的自定义项 </span>
        <span class="s2">"psr-4"</span><span class="o">:</span> <span class="p">{</span> <span class="c1">//使用psr-4规范 会将内容生成到 vendor/composer/autoload-psr4.php 文件中 </span>
          <span class="s2">"module</span><span class="se">\\</span><span class="s2">"</span><span class="o">:</span> <span class="s2">"vendor/module/"</span> 
        <span class="p">}</span> 
      <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<h2 id="2-运行使用composer-自动构建-composer-安装方法官网有-进入控制台-路径到所建项目根路径-也就是composerjson所在路径-运行-composer-install-会自动生成-vendorcomposer-这个目录5个文件-会根据-composerjson配置参数生成相关内容-vendorautoloadphp-最后项目入口文件">2. 运行使用composer 自动构建 composer 安装方法官网有 进入控制台 路径到所建项目根路径 也就是composer.json所在路径 运行： composer install 会自动生成 /vendor/composer/* //这个目录5个文件 会根据 composer.json配置参数生成相关内容 /vendor/autoload.php 最后项目入口文件</h2>

<p>==============</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//index.php</span>
<span class="nf">addPsr4</span><span class="p">(</span><span class="s2">"module2"</span><span class="p">,</span> <span class="s2">"module2的路径"</span><span class="p">);</span>     <span class="c1">//这句在项目调试时可以用      临时增加新的命名空间</span>
<span class="k">echo</span> <span class="p">(</span><span class="k">new</span> <span class="nc">TestClass</span><span class="p">())</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">;</span>   <span class="c1">//输出 test content</span>
</code></pre></div></div>
:ET